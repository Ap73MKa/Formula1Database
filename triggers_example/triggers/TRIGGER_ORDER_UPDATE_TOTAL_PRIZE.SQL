DELIMITER //

CREATE TRIGGER TRIGGER_ORDER_UPDATE_TOTAL
    AFTER UPDATE ON ORDER_ITEMS
    FOR EACH ROW
BEGIN
    DECLARE TOTAL DECIMAL(10,2);
    SELECT SUM(QUANTITY * PRICE) INTO TOTAL FROM ORDER_ITEMS WHERE ORDER_ID = NEW.ORDER_ID;
    UPDATE ORDERS SET TOTAL = TOTAL WHERE ID = NEW.ORDER_ID;
END//

DELIMITER ;